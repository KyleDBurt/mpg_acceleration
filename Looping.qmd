---
title: "Looping"
format: html
editor: visual
---

```{r}
library(tidyverse)
library(purrr)
library(ggpubr)
```

```{r}
source("R/function.R")

possible_cars = data.frame(name = c("A", "B", "C", "D"),
                           cylinders = c(2, 4, 6, 8),
                           horsepower = c(50, 200, 400, 1000),
                           weight = c(500, 4000, 5000, 6000))
speed_base = 80

# Apply function to each row
performance_results <- mapply(engine_performance, 
                              cylinders = possible_cars$cylinders, 
                              horsepower = possible_cars$horsepower, 
                              weight = possible_cars$weight, 
                              SIMPLIFY = FALSE)

# Extract MPG values
possible_cars$mpg <- sapply(performance_results, function(x) x$mpg)
possible_cars$acceleration <- sapply(performance_results, 
                                     function(x) x$acceleration)
```
